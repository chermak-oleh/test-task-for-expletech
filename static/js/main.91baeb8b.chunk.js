(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{32:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(14),n=a.n(c),r=(a(31),a(32),a(26)),i=a(13),o=a(3),d=a(11),l=a(25),u=a.n(l),j=i.b,b=i.c,m=a(7),h=a(9);function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t},c="https://jsonplaceholder.typicode.com/";return a&&(s.body=JSON.stringify(a),s.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(c+e,s).then((function(e){return e.json()}))}var f,p=function(e){return O(e)},x=function(e,t){return O(e,"POST",t)};!function(e){e.Loading="loading",e.Succeeded="succeeded",e.Failed="failed"}(f||(f={}));var v={posts:[],status:f.Loading},g=Object(h.b)("posts/fetchPosts",(function(){return p("posts")})),N=Object(h.b)("posts/addPost",(function(e){return function(e){return x("posts",e)}(e)})),C=Object(h.c)({name:"apiPosts",initialState:v,reducers:{},extraReducers:function(e){e.addCase(g.pending,(function(e){e.status=f.Loading})).addCase(g.fulfilled,(function(e,t){e.status=f.Succeeded,e.posts=t.payload})).addCase(g.rejected,(function(e){e.status=f.Failed})).addCase(N.pending,(function(e){e.status=f.Loading})).addCase(N.fulfilled,(function(e,t){e.status=f.Succeeded,e.posts=[].concat(Object(m.a)(e.posts),[t.payload])})).addCase(N.rejected,(function(e){e.status=f.Failed}))}}).reducer,y=a(2),P=a.n(y),k=a(4),S={comments:[],status:f.Loading},F=Object(h.b)("comments/fetchComments",Object(k.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("comments");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),w=Object(h.c)({name:"apiComments",initialState:S,reducers:{},extraReducers:function(e){e.addCase(F.pending,(function(e){e.status=f.Loading})).addCase(F.fulfilled,(function(e,t){e.status=f.Succeeded,e.comments=t.payload})).addCase(F.rejected,(function(e){e.status=f.Failed}))}}).reducer,L=a(1),T=function(){var e=j(),t=b((function(e){return e.apiPosts.posts})),a=b((function(e){return e.apiComments.comments}));Object(s.useEffect)((function(){e(g()),e(F())}),[]);var c=Object(s.useMemo)((function(){return t.map((function(e){var t=a.filter((function(t){return t.postId===e.id}));return Object(d.a)(Object(d.a)({},e),{},{comments:t})}))}),[t,a]);return Object(L.jsx)(u.a,{children:c.map((function(e){var t=e.id,a=e.title,s=e.body;return Object(L.jsx)("div",{className:"slider-content",children:Object(L.jsxs)("div",{className:"box",style:{maxWidth:"750px",maxHeight:"600px",overflow:"auto"},children:[Object(L.jsx)("p",{className:"title",children:a}),Object(L.jsx)("p",{className:"subtitle",children:s}),Object(L.jsx)("h1",{className:"title mt-2",children:"Comments:"}),e.comments.length>0?e.comments.map((function(e){var t=e.email,a=e.name;return Object(L.jsxs)("article",{className:"message is-dark",children:[Object(L.jsx)("div",{className:"message-header",children:Object(L.jsx)("p",{children:"".concat(a," / ").concat(t)})}),Object(L.jsx)("div",{className:"message-body",children:e.body})]},e.id)})):Object(L.jsx)("p",{children:"There is no comments yet"})]})},t)}))})},B=function(){var e=Object(s.useState)(1),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(o.a)(n,2),i=r[0],d=r[1],l=Object(s.useState)(""),u=Object(o.a)(l,2),b=u[0],m=u[1],h=Object(s.useState)(!1),O=Object(o.a)(h,2),f=O[0],p=O[1],x=Object(s.useState)(!1),v=Object(o.a)(x,2),g=v[0],C=v[1],y=j(),S=function(){var e=Object(k.a)(P.a.mark((function e(){var t,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.trim(),s=b.trim(),y(N({title:t,body:s,userId:a}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=!i&&f,w=!b&&f;return g?Object(L.jsxs)("div",{className:"notification is-success",children:[Object(L.jsx)("button",{className:"delete",type:"button",onClick:function(){C(!1)}}),Object(L.jsx)("p",{children:"Post created successfully"})]}):Object(L.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i&&b?(S(),c(1),d(""),m(""),p(!1),C(!0)):p(!0)},className:"container",children:[Object(L.jsxs)("div",{className:"field",children:[Object(L.jsx)("label",{className:"label",children:"User ID"}),Object(L.jsx)("div",{className:"control",children:Object(L.jsx)("div",{className:"select",children:Object(L.jsx)("select",{value:a,onChange:function(e){var t=e.target.value;c(+t)},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(L.jsx)("option",{children:e},e)}))})})})]}),Object(L.jsxs)("div",{className:"field",children:[Object(L.jsx)("label",{className:"label",children:"Title"}),Object(L.jsxs)("div",{className:"control",children:[Object(L.jsx)("input",{className:"input",type:"text",placeholder:"Post title",value:i,onChange:function(e){var t=e.target.value;d(t)},required:!0}),F&&Object(L.jsx)("span",{className:"has-text-danger",children:"Please enter a title"})]})]}),Object(L.jsxs)("div",{className:"field",children:[Object(L.jsx)("label",{className:"label",children:"Description"}),Object(L.jsxs)("div",{className:"control",children:[Object(L.jsx)("textarea",{className:"textarea",placeholder:"Post description",value:b,onChange:function(e){var t=e.target.value;m(t)},required:!0}),w&&Object(L.jsx)("span",{className:"has-text-danger",children:"Please enter a description"})]})]}),Object(L.jsx)("button",{className:"button is-info",type:"submit",children:"Add Post"})]})},I=function(e){var t=e.onCloseModalButton;return Object(L.jsxs)("div",{className:"modal is-active",children:[Object(L.jsx)("div",{className:"modal-background"}),Object(L.jsxs)("div",{className:"modal-card",children:[Object(L.jsxs)("header",{className:"modal-card-head",children:[Object(L.jsx)("p",{className:"modal-card-title",children:"Create Post"}),Object(L.jsx)("button",{className:"delete","aria-label":"close",type:"button",onClick:t})]}),Object(L.jsx)("section",{className:"modal-card-body",children:Object(L.jsx)(B,{})}),Object(L.jsx)("footer",{className:"modal-card-foot"})]})]})},A=function(e){var t=e.onAddPostButton;return Object(L.jsxs)("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation",children:[Object(L.jsx)("div",{className:"navbar-brand",children:Object(L.jsx)("strong",{className:"navbar-item",children:"Carousel of Posts"})}),Object(L.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(L.jsx)("div",{className:"navbar-end",children:Object(L.jsx)("div",{className:"navbar-item",children:Object(L.jsx)("button",{className:"button is-info",type:"button",onClick:t,children:Object(L.jsx)("strong",{children:"Add post"})})})})})]})},D=function(){var e={backgroundImage:"url(".concat("https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/1599px-Flag_of_Ukraine.svg.png?20100406171642",")"),backgroundSize:"cover",backgroundPosition:"center"};return Object(L.jsx)("footer",{className:"footer",style:e,children:Object(L.jsx)("div",{className:"content has-text-centered has-text-white",children:Object(L.jsx)("p",{children:"SPA made by Oleh Chermak"})})})},E=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(A,{onAddPostButton:function(){c(!0)}}),a&&Object(L.jsx)(I,{onCloseModalButton:function(){c(!1)}}),Object(L.jsx)(T,{}),Object(L.jsx)(D,{})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))},_=Object(h.a)({reducer:{apiComments:w,apiPosts:C}});n.a.render(Object(L.jsx)(i.a,{store:_,children:Object(L.jsx)(r.a,{children:Object(L.jsx)(E,{})})}),document.getElementById("root")),U()}},[[45,1,2]]]);
//# sourceMappingURL=main.91baeb8b.chunk.js.map