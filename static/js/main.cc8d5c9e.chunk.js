(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{30:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(13),r=s.n(a),i=(s(29),s(30),s(11)),o=s(7),d=s(6),l=s(24),u=s.n(l),j=i.b,b=i.c,m=s(17),p=s(5);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t},c="https://jsonplaceholder.typicode.com/";return s&&(n.body=JSON.stringify(s),n.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(c+e,n).then((function(e){return e.json()}))}var O,f=function(e){return h(e)},x=function(e,t){return h(e,"POST",t)};!function(e){e.Loading="loading",e.Succeeded="succeeded",e.Failed="failed"}(O||(O={}));var v={posts:[],status:O.Loading},N=Object(p.b)("posts/fetchPosts",(function(){return f("posts")})),g=Object(p.b)("posts/addPost",(function(e){return function(e){return x("posts",e)}(e)})),C=Object(p.c)({name:"apiPosts",initialState:v,reducers:{},extraReducers:function(e){e.addCase(N.pending,(function(e){e.status=O.Loading})).addCase(N.fulfilled,(function(e,t){e.status=O.Succeeded,e.posts=t.payload})).addCase(N.rejected,(function(e){e.status=O.Failed})).addCase(g.pending,(function(e){e.status=O.Loading})).addCase(g.fulfilled,(function(e,t){e.status=O.Succeeded,e.posts=[].concat(Object(m.a)(e.posts),[t.payload])})).addCase(g.rejected,(function(e){e.status=O.Failed}))}}).reducer,y=s(9),P=s.n(y),S=s(16),k={comments:[],status:O.Loading},F=Object(p.b)("comments/fetchComments",Object(S.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("comments");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),I=Object(p.c)({name:"apiComments",initialState:k,reducers:{},extraReducers:function(e){e.addCase(F.pending,(function(e){e.status=O.Loading})).addCase(F.fulfilled,(function(e,t){e.status=O.Succeeded,e.comments=t.payload})).addCase(F.rejected,(function(e){e.status=O.Failed}))}}).reducer,L=s(1),T=function(){var e=j(),t=b((function(e){return e.apiPosts.posts})),s=b((function(e){return e.apiComments.comments}));Object(n.useEffect)((function(){e(N()),e(F())}),[]);var c=Object(n.useMemo)((function(){return t.map((function(e){var t=s.filter((function(t){return t.postId===e.id}));return Object(d.a)(Object(d.a)({},e),{},{comments:t})}))}),[t,s]);return Object(L.jsx)(u.a,{children:c.map((function(e){var t=e.id,s=e.title,n=e.body,c=e.comments;return Object(L.jsx)("div",{className:"slider-content",children:Object(L.jsxs)("div",{className:"box post-content",children:[Object(L.jsx)("p",{className:"title",children:s}),Object(L.jsx)("p",{className:"subtitle",children:n}),Object(L.jsx)("h1",{className:"title mt-2",children:"Comments:"}),c.length>0?c.map((function(e){var t=e.id,s=e.name,n=e.email,c=e.body;return Object(L.jsxs)("article",{className:"message is-dark",children:[Object(L.jsx)("div",{className:"message-header",children:Object(L.jsx)("p",{children:"".concat(s," / ").concat(n)})}),Object(L.jsx)("div",{className:"message-body",children:c})]},t)})):Object(L.jsx)("p",{children:"There is no comments yet"})]})},t)}))})},w=s(12),B=[1,2,3,4,5,6,7,8,9,10],A=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],c=t[1],a=j(),r=function(){var e=Object(S.a)(P.a.mark((function e(t){var s,n,r,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.userId,n=t.title,r=t.description,i={userId:s,title:n.trim(),body:r.trim()},a(g(i)),c(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(L.jsxs)("div",{className:"notification is-success",children:[Object(L.jsx)("button",{className:"delete",type:"button",onClick:function(){c(!1)}}),Object(L.jsx)("p",{children:"Post created successfully"})]}):Object(L.jsx)(w.b,{onSubmit:r,initialValues:{userId:1,title:"",description:""},validate:function(e){var t=e.userId,s=e.title,n=e.description,c={};return s&&s.trim()||(c.title="Please enter a title"),t||(c.userId="Please select id of user"),n&&n.trim()||(c.description="Please enter a description"),c},render:function(e){var t=e.handleSubmit;return Object(L.jsxs)("form",{className:"container",onSubmit:t,children:[Object(L.jsxs)("div",{className:"field",children:[Object(L.jsx)("label",{className:"label",children:"User ID"}),Object(L.jsx)("div",{className:"control",children:Object(L.jsx)("div",{className:"select",children:Object(L.jsx)(w.a,{name:"userId",component:"select",children:B.map((function(e){return Object(L.jsx)("option",{children:e},e)}))})})})]}),Object(L.jsxs)("div",{className:"field",children:[Object(L.jsx)("label",{className:"label",children:"Title"}),Object(L.jsx)(w.a,{name:"title",component:"input",placeholder:"Post title",type:"text",children:function(e){var t=e.meta,s=e.input;return Object(L.jsxs)("div",{className:"control",children:[Object(L.jsx)("input",Object(d.a)({className:"input"},s)),t.error&&t.touched&&Object(L.jsx)("span",{className:"has-text-danger",children:"Please enter a title"})]})}})]}),Object(L.jsxs)("div",{className:"field",children:[Object(L.jsx)("label",{className:"label",children:"Description"}),Object(L.jsx)(w.a,{name:"description",component:"textarea",placeholder:"Post description",children:function(e){var t=e.meta,s=e.input;return Object(L.jsxs)("div",{className:"control",children:[Object(L.jsx)("textarea",Object(d.a)({className:"textarea"},s)),t.error&&t.touched&&Object(L.jsx)("span",{className:"has-text-danger",children:"Please enter a description"})]})}})]}),Object(L.jsx)("button",{className:"button is-info",type:"submit",children:"Add Post"})]})}})},E=c.a.memo((function(e){var t=e.onCloseModalButton;return Object(L.jsxs)("div",{className:"modal is-active",children:[Object(L.jsx)("div",{className:"modal-background"}),Object(L.jsxs)("div",{className:"modal-card",children:[Object(L.jsxs)("header",{className:"modal-card-head",children:[Object(L.jsx)("p",{className:"modal-card-title",children:"Create Post"}),Object(L.jsx)("button",{className:"delete","aria-label":"close",type:"button",onClick:t})]}),Object(L.jsx)("section",{className:"modal-card-body",children:Object(L.jsx)(A,{})}),Object(L.jsx)("footer",{className:"modal-card-foot"})]})]})})),D=c.a.memo((function(e){var t=e.onAddPostButton;return Object(L.jsxs)("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation",children:[Object(L.jsx)("div",{className:"navbar-brand",children:Object(L.jsx)("strong",{className:"navbar-item",children:"Carousel of Posts"})}),Object(L.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(L.jsx)("div",{className:"navbar-end",children:Object(L.jsx)("div",{className:"navbar-item",children:Object(L.jsx)("button",{className:"button is-info",type:"button",onClick:t,children:Object(L.jsx)("strong",{children:"Add post"})})})})})]})})),J=function(){return Object(L.jsx)("footer",{className:"footer footer-image",children:Object(L.jsx)("div",{className:"content has-text-centered has-text-white",children:Object(L.jsx)("p",{children:"SPA made by Oleh Chermak"})})})},M=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],c=t[1],a=Object(n.useCallback)((function(){c(!0)}),[]),r=Object(n.useCallback)((function(){c(!1)}),[]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(D,{onAddPostButton:a}),s&&Object(L.jsx)(E,{onCloseModalButton:r}),Object(L.jsx)(T,{}),Object(L.jsx)(J,{})]})},R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,44)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))},U=Object(p.a)({reducer:{apiComments:I,apiPosts:C}});r.a.render(Object(L.jsx)(i.a,{store:U,children:Object(L.jsx)(M,{})}),document.getElementById("root")),R()}},[[43,1,2]]]);
//# sourceMappingURL=main.cc8d5c9e.chunk.js.map